{% extends "base.html" %}
{% load markdown_deux_tags thumbnail %}

{% block content %}
    
<article class="movie">

    <ul class="slate-art movie__art-grid">
        <li class="movie__art-grid__item image">
            <picture>
              <source media="(min-width: 600px)" srcset="{% thumbnail movie.image 1000x750 quality="85" crop=",1" %} 1x">
              <img src="{% thumbnail movie.image 360x270 quality="90" crop=",1" %}" alt="{{ movie.title }}">
            </picture>
        </li>
        {% if movie.poster %}
        <li class="movie__art-grid__item cover">
            <picture>
              <source media="(min-width: 1000px)" srcset="{% thumbnail movie.poster 600x900 quality="85" crop=",1" %} 1x">
              <source media="(min-width: 600px)" srcset="{% thumbnail movie.poster 400x600 quality="85" crop=",1" %} 1x">
              <img src="{% thumbnail movie.poster 200x300 quality="90" crop=",1" %}" alt="{{ movie.title }}">
            </picture>
        </li>
        {% endif %}
    </ul>

    <section class="slate-text">
        <h1 class="movie__title">{{ movie.title }}</h1>
        {% spaceless %}
        <ul class="movie__metadata">
            <li>{{ movie.year }}</li>
            <li>{{ movie.genre|title }}</li>
            <li>{{ movie.length }} minutes</li>
            {% if movie.facebook_url %}
                <li><a href="{{ movie.facebook_url }}">Like on Facebook</a></li>
            {% endif %}
            {% if movie.imdb %}
                <li><a href="{{ movie.imdb }}">IMDB Entry</a></li>
            {% endif %}
        </ul>
        {% endspaceless %}
        {{ movie.synopsis|markdown }}
    </section>
    <hr>

    <section class="movie__credits slate-text">
        {% for brag in movie.bragging_rights %}
            {{ brag|markdown }}
        {% endfor %}
    </section>

    <hr>

    <section class="movie__credits slate-text">
        <h3>Credits</h3>
        {% for credit in movie.credits_list %}
            {{ credit|markdown }}
        {% endfor %}            
    </section>

</article>

{% endblock content %}
